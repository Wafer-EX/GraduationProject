@page "/services/pwa"

@using CoderWebsite.Components
@using CoderWebsite.Components.BlockContent
@using CoderWebsite.Models

@inject ApplicationContext DbContext

<PageTitle>@(string.IsNullOrEmpty(metaTitle) ? "Прогрессивное веб-приложение (PWA) | Кодер" : $"{metaTitle} | Кодер")</PageTitle>
<HeadContent>
    @if (!string.IsNullOrEmpty(metaDesc)) { <meta name="description" content="@metaDesc"> }
    @if (!string.IsNullOrEmpty(metaDesc)) { <meta name="keywords" content="@metaKeywords"> }
</HeadContent>

<PageBlock>
    <CallText Title="Прогрессивное веб-приложение (PWA)" ButtonText="Заказать PWA-приложение" ButtonRedirect="/ordering">
        <BoxItem ImagePath="/icons/pwa-logo-white.png">
            Технология в веб-разработке, которая визуально и функционально трансформирует 
            сайт в приложение (мобильное приложение в браузере). PWA является гибридным 
            решением и позволяет открыть приложение с помощью мобильного браузера. При 
            этом полностью сохраняется функциональность нативного приложения.
        </BoxItem>
    </CallText>
</PageBlock>

<PageBlock>
    <CallText Title="Особенности">
        PWA сайты строятся с помощью привычных инструментов, и в браузере выглядят как 
        обычный сайт, но взаимодействуют с посетителем как мобильное приложение. 
        Расширенный функционал позволяет добавлять сайт или отдельную его страницу на 
        экран любых устройств, а также отправлять push-уведомления.
        <br />
        <br />
        PWA дает возможность сайту-приложению работать в автономном режиме. Наглядным 
        примером служит Google Docs — это онлайн-офис, но с возможностью взаимодействия 
        с ним в оффлайн режиме.
        <br />
        <br />
        Преимущества:
        <ul>
            <li>
                Адаптивность - PWA адаптируются под любое мобильное устройство будь то 
                Android или iOS, планшет или мобильный телефон, десктоп или ноутбук, и т.д;
            </li>
            <li>
                Интерактивность - благодаря push-уведомлениям, вы всегда можете оставаться 
                на связи с пользователями, повышая их вовлеченность и заинтересованность. 
                Это хороший инструмент для удержания клиентов и привлечения новых пользователей;
            </li>
            <li>
                Высокая скорость загрузки - PWA сайты загружаются и реагируют на действия 
                пользователя намного быстрее обычных сайтов. Это может решить проблему 
                медленной загрузки даже при слабом соединении с интернетом.
            </li>
        </ul>
    </CallText>
</PageBlock>

@code {
    private string? metaTitle;

    private string? metaDesc;

    private string? metaKeywords;

    protected override async Task OnInitializedAsync()
    {
        var elements = DbContext.MetaPageDescriptions.Where(meta => meta.PageName == "PWAAppsPage");
        if (elements.Count() > 0)
        {
            metaTitle = elements.First().Title;
            metaDesc = elements.First().Description;
            metaKeywords = elements.First().Keywords;
        }
    }
}